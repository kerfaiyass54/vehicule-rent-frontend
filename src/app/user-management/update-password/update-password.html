<div class="update-container">
  <h2 mat-dialog-title>Change password</h2>

  <div mat-dialog-content>
    <div class="form-wrapper">
      <form [formGroup]="changePass">

        <mat-form-field appearance="outline">
          <mat-label>New password</mat-label>
          <input matInput type="text" formControlName="newPassword">
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Confirm new password</mat-label>
          <input matInput type="text" formControlName="confirmPassword">
        </mat-form-field>


      </form>
    </div>
  </div>

  <mat-dialog-actions align="end">
    <button mat-button mat-dialog-close>Cancel</button>
    <button mat-raised-button color="primary" type="submit"
            [disabled]="changePass.invalid" (click)="updatePassword(changePass.value)">Change</button>
    <button mat-raised-button color="primary"
            [disabled]="changePass.invalid" (click)="evaluatePassword(changePass.value)" data-bs-toggle="modal" data-bs-target="#strengthModal">Test strength</button>
  </mat-dialog-actions>
</div>


<div class="modal fade" id="strengthModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content strength-modal">

      <div class="modal-header strength-header">
        <h5 class="modal-title">Password Strength</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body strength-body">

        @if (passStrength == 0) {
          <div class="strength weak">⚠ Weak Password</div>
        }
        @if (passStrength == 1) {
          <div class="strength medium">⚡ Medium Password</div>
        }
        @if (passStrength == 2) {
          <div class="strength strong">✔ Strong Password</div>
        }

      </div>

      <div class="modal-footer strength-footer">
        <button type="button" class="btn close-btn" data-bs-dismiss="modal">
          Close
        </button>
      </div>

    </div>
  </div>
</div>
